# delimit;set mem 500m;set matsize 1500;set more off;capture log close;clear;use macoursetal_main;gen age_transfer1 = age_transfer+40;qui tab age_transfer1, gen(CEDAD);drop age_transfer1;/*** CONTROLS***/            mac def controls6 "CEDAD* male s1age_head_05 s1hhsize_05 s1hhsz_undr5_05 s1hhsz_5_14_05 s1hhsz_15_24_05 s1hhsz_25_64_05                s1hhsz_65plus_05 s1male_head_05 ed_mom_inter ed_mom_miss bweight_miss bweight_inter   tvip_05_miss tvip_05_inter  height_05_miss                height_05_inter weight_05_miss weight_05_inter               MUN* com_haz_05 com_waz_05 com_tvip_05 com_control_05 com_vit_05 com_deworm_05 com_notvip";               mac def controls6h " s1age_head_05 s1hhsize_05 s1hhsz_undr5_05 s1hhsz_5_14_05 s1hhsz_15_24_05 s1hhsz_25_64_05                s1hhsz_65plus_05 s1male_head_05 ed_mom_inter ed_mom_miss                MUN* com_haz_05 com_waz_05 com_tvip_05 com_control_05 com_vit_05 com_deworm_05 com_notvip";*** REGRESSION ECON ACTIVITY MOM 2008 - ONLY COUNT EACH MOM ONCE**;*** REGRESSION ECON ACTIVITY MOM 2008 - ONLY COUNT EACH MOM ONCE**;bysort hogarid08 cpmom_08: egen mincpch_08 = min(cp) if cpmom_08<77 & sample08==1;foreach var in  s6wrkdys_agwa_i_08 s6wrkdys_nonagwa_i_08 s6wrkdys_nonagslf_i_08s6wrkdys_prof_i_08  s6p14_indays_i_08 s6totwrkdays_08 {;qui regress `var'_mom TREAT4 $controls6h if mincpch_08 == cp & cp~=. &    inlist(itt_all_i, 2,4) & sample08==1, cluster(unique_05);outreg2 using econact_time_mom_jul0411c, se excel append;};*** REGRESSION CHILD LEVEL FOR MOTHER-CHILD INTERACTIONS 2008***;foreach var in a3stories_08 a3leerdummy_08 nrhourread_08 hourstotalc_08 hourscuida_08 hourstrabcuida_08 {;regress `var' TREAT4 $controls6 if   inlist(itt_all_i, 2,4) & sample08==1 & guardianmom_08 ==1, cluster(unique_05);outreg2 using econact_time_mom_jul0411c, se excel append;};bysort hogarid08 cpmom_08: egen mincpch_08g = min(cp) if guardianmom_08 ==1;*** REGRESSION MOM LEVEL FOR CESD AND HOME - WHICH ONLY EXISTS FOR MOTHERS THAT ARE CAREGIVERS***;*** REGRESSION MOM LEVEL FOR CESD AND HOME - WHICH ONLY EXISTS FOR MOTHERS THAT ARE CAREGIVERS***;foreach var in a13cesd_08mom e5home_08mom {;qui regress `var' TREAT4 $controls6 if   inlist(itt_all_i, 2,4) & sample08==1 & guardianmom_08 ==1 & cp== mincpch_08g, cluster(unique_05);outreg2 using econact_time_mom_jul0411c, se excel append;};/*** 2006****//*** 2006****//*** 2006****/*** REGRESSION CHILD LEVEL FOR MOTHER-CHILD INTERACTIONS 2006***;*** REGRESSION CHILD LEVEL FOR MOTHER-CHILD INTERACTIONS 2006***;foreach var in a3stories_06 a3leerdummy_06 nrhourread_06  {;regress `var' TREAT4 $controls6 if   inlist(itt_all_i, 2,4) & sample06==1 & guardianmom_06 ==1, cluster(unique_05);outreg2 using econact_time_mom_jul0411c, se excel append;};*** REGRESSION ECON ACTIVITY MOM 2006 - ONLY COUNT EACH MOM ONCE**;*** REGRESSION ECON ACTIVITY MOM 2006 - ONLY COUNT EACH MOM ONCE**;bysort hogarid06 i06 cpmom_06: egen mincpch_06 = min(cp06) if cpmom_06<77;foreach var in   s6wrkdys_agwa_i_06 s6wrkdys_nonagwa_i_06 s6wrkdys_nonagslf_i_06s6wrkdys_prof_i_06  s6p14_indays_i_06 s6totwrkdays_06{;regress `var'_mom TREAT4 $controls6h if mincpch_06 == cp06 & cp06~=. &    inlist(itt_all_i, 2,4) & sample06==1, cluster(unique_05);outreg2 using econact_time_mom_jul0411c, se excel append;};*** REGRESSION MOM LEVEL FOR CESD AND HOME 2006 - WHICH ONLY EXISTS FOR MOTHERS THAT ARE CAREGIVERS***;*** REGRESSION MOM LEVEL FOR CESD AND HOME 2006 - WHICH ONLY EXISTS FOR MOTHERS THAT ARE CAREGIVERS***;bysort hogarid06 i06 cpmom_06: egen mincpch_06g2 = min(cp06) if guardianmom_06 ==1 & a13cesd_06mom~=.;foreach var in a13cesd_06mom  a14home_06mom {;qui regress `var' TREAT4 $controls6 if   inlist(itt_all_i, 2,4) & sample06==1 & guardianmom_06 ==1 & cp06== mincpch_06g2, cluster(unique_05);outreg2 using econact_time_mom_jul0411c, se excel append;};